<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>tt5</title>
  <link rel="stylesheet" href="css/fonts.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/nav.css">
  <link rel="stylesheet" href="css/aside.css">
  <link rel="stylesheet" href="css/footer.css">
  <link rel="stylesheet" href="css/fullscreen.css">
  <link rel="stylesheet" href="css/canvas.css">
  <script src="mycanvas.js"><script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      fetch('http://usernamea.pythonanywhere.com/hello/some')
      .then(response =>  response.json())
      .then(data => {
          const rate = data.one;
          document.querySelector('#one').innerHTML = rate;
      });
    });
</script>

</head>

<body>
<div id="wrapper">
<header>
  <h1>Blog</h1>
  <p>description</p>
</header>

<nav>
  <header>
    <h2>Nav</h2>
  </header>
    <ul class="nav">
       <li><span>tt5</span></li>
       <!--
       <li><a href="">About</a></li>
       <li><a href="">Contact</a></li>
       -->
    </ul>
</nav>

<main>
<section>
  <header>    
    <h2>Blog posts</h2>    
  </header>

  <div id="fullboard">

<canvas id="wrq" width="128" height="128"></canvas>
<canvas id="wnq" width="128" height="128"></canvas>
<canvas id="wbl" width="128" height="128"></canvas>
<canvas id="wq" width="128" height="128"></canvas>
<canvas id="wbd" width="128" height="128"></canvas>
<canvas id="wnk" width="128" height="128"></canvas>
<canvas id="wrk" width="128" height="128"></canvas>
<canvas id="brq" width="128" height="128"></canvas>
<canvas id="bnq" width="128" height="128"></canvas>
<canvas id="bbl" width="128" height="128"></canvas>
<canvas id="bq" width="128" height="128"></canvas>
<canvas id="bbd" width="128" height="128"></canvas>
<canvas id="bnk" width="128" height="128"></canvas>
<canvas id="brk" width="128" height="128"></canvas>

  <div id="chessboard">

<table id="chessbackground">
<tbody id="chessbtbody">
  <tr>
    <td id="ba8"><div></div></td>
<td id="bb8"><div></div></td>
<td id="bc8"><div></div></td>
<td id="bd8"><div></div></td>
<td id="be8"><div></div></td>
<td id="bf8"><div></div></td>
<td id="bg8"><div></div></td>
<td id="bh8"><div></div></td>
  </tr>
  <tr>
    <td id="ba7"><div></div></td>
<td id="bb7"><div></div></td>
<td id="bc7"><div></div></td>
<td id="bd7"><div></div></td>
<td id="be7"><div></div></td>
<td id="bf7"><div></div></td>
<td id="bg7"><div></div></td>
<td id="bh7"><div></div></td>
  </tr>
  <tr>
    <td id="ba6"><div></div></td>
<td id="bb6"><div></div></td>
<td id="bc6"><div></div></td>
<td id="bd6"><div></div></td>
<td id="be6"><div></div></td>
<td id="bf6"><div></div></td>
<td id="bg6"><div></div></td>
<td id="bh6"><div></div></td>
  </tr>
  <tr>
    <td id="ba5"><div></div></td>
<td id="bb5"><div></div></td>
<td id="bc5"><div></div></td>
<td id="bd5"><div></div></td>
<td id="be5"><div></div></td>
<td id="bf5"><div></div></td>
<td id="bg5"><div></div></td>
<td id="bh5"><div></div></td>
  </tr>
  <tr>
    <td id="ba4"><div></div></td>
<td id="bb4"><div></div></td>
<td id="bc4"><div></div></td>
<td id="bd4"><div></div></td>
<td id="be4"><div></div></td>
<td id="bf4"><div></div></td>
<td id="bg4"><div></div></td>
<td id="bh4"><div></div></td>
  </tr>
  <tr>
    <td id="ba3"><div></div></td>
<td id="bb3"><div></div></td>
<td id="bc3"><div></div></td>
<td id="bd3"><div></div></td>
<td id="be3"><div></div></td>
<td id="bf3"><div></div></td>
<td id="bg3"><div></div></td>
<td id="bh3"><div></div></td>
  </tr>
  <tr>
    <td id="ba2"><div></div></td>
<td id="bb2"><div></div></td>
<td id="bc2"><div></div></td>
<td id="bd2"><div></div></td>
<td id="be2"><div></div></td>
<td id="bf2"><div></div></td>
<td id="bg2"><div></div></td>
<td id="bh2"><div></div></td>
  </tr>
  <tr>
    <td id="ba1"><div></div></td>
<td id="bb1"><div></div></td>
<td id="bc1"><div></div></td>
<td id="bd1"><div></div></td>
<td id="be1"><div></div></td>
<td id="bf1"><div></div></td>
<td id="bg1"><div></div></td>
<td id="bh1"><div></div></td>
  </tr>
</tbody>
</table>

  </div>
    <!--
    <h1>Hi</h1>
    <p>This is the body</p>
    <p>This is a gist</p>
    -->

<table id="chesspieces">
<tbody>
  <tr>
<td><div id="a8">♜︀</div></td>
<td id="fb8"><div id="b8">♞</div></td>
<td><div id="c8">♝︀</div></td>
<td id="fd8"><div id="d8">♛</div></td>
<td><div id="e8">♚</div></td>
<td><div id="f8">♝︁</div></td>
<td><div id="g8">♞</div></td>
<td><div id="h8">♜︁</div></td>
  </tr>

<tr>
<td><div id="a7">♟</div> </td>
<td><div id="b7">♟</div> </td>
<td><div id="c7">♟</div> </td>
<td><div id="d7">♟</div> </td>
<td><div id="e7">♟</div> </td>
<td><div id="f7">♟</div> </td>
<td><div id="g7">♟</div> </td>
<td><div id="h7">♟</div> </td>
</tr>

<tr>
<td><div id="a6"></div> </td>
<td><div id="b6"></div> </td>
<td><div id="c6"></div> </td>
<td><div id="d6"></div> </td>
<td><div id="e6"></div> </td>
<td><div id="f6"></div> </td>
<td><div id="g6"></div> </td>
<td><div id="h6"></div> </td></tr>
<tr>
<td><div id="a5"></div> </td>
<td><div id="b5"></div> </td>
<td><div id="c5"></div> </td>
<td><div id="d5"></div> </td>
<td><div id="e5"></div> </td>
<td><div id="f5"></div> </td>
<td><div id="g5"></div> </td>
<td><div id="h5"></div> </td>
</tr>
<tr>
<td><div id="a4"></div> </td>
<td><div id="b4"></div> </td>
<td><div id="c4"></div> </td>
<td><div id="d4"></div> </td>
<td><div id="e4"></div> </td>
<td><div id="f4"></div> </td>
<td><div id="g4"></div> </td>
<td><div id="h4"></div> </td></tr>
<tr>
<td><div id="a3"></div> </td>
<td><div id="b3"></div> </td>
<td><div id="c3"></div> </td>
<td><div id="d3"></div> </td>
<td><div id="e3"></div> </td>
<td><div id="f3"></div> </td>
<td><div id="g3"></div> </td>
<td><div id="h3"></div> </td>
</tr>
<tr>
<td><div id="a2">♙</div> </td>
<td><div id="b2">♙</div> </td>
<td><div id="c2">♙</div> </td>
<td><div id="d2">♙</div> </td>
<td><div id="e2">♙</div> </td>
<td><div id="f2">♙</div> </td>
<td><div id="g2">♙</div> </td>
<td><div id="h2">♙</div> </td>
</tr>
<tr>
<td><div id="a1">♖︀</div> </td>
<td><div id="b1">♘</div> </td>
<td><div id="c1">♗︁</div> </td>
<td><div id="d1">♕</div> </td>
<td><div id="e1">♔</div> </td>
<td><div id="f1">♗︀</div> </td>
<td><div id="g1">♘</div> </td>
<td><div id="h1">♖︁</div> </td>
</tr>
</tbody></table>


<p>
  <button id="go-button">show game</button>
</p>
  </div>

  </section>
  <section>

<script src="https://gist.github.com/tt5/079e0418ed01c721c80cf3b18a268c17.js"></script>

  <span id="one"></span>
  </section>
</main>

<!--
<aside>
  <header>
<h2>Aside</h2>
  </header>
  <ul>
    <li><a href="./src/one.html">One</a></li>
  </ul>
</aside>
-->

</div>
<footer>
<header>
  <h2>Footer</h2>
</header>
<p>&copy; tt5</p>
</footer>

</body>
<script>
/* Get into full screen */
function GoInFullscreen(element) {
  if(element.requestFullscreen)
    element.requestFullscreen();
  else if(element.mozRequestFullScreen)
    element.mozRequestFullScreen();
  else if(element.webkitRequestFullscreen)
    element.webkitRequestFullscreen();
  else if(element.msRequestFullscreen)
    element.msRequestFullscreen();
}

/* Get out of full screen */
function GoOutFullscreen() {
  if(document.exitFullscreen)
    document.exitFullscreen();
  else if(document.mozCancelFullScreen)
    document.mozCancelFullScreen();
  else if(document.webkitExitFullscreen)
    document.webkitExitFullscreen();
  else if(document.msExitFullscreen)
    document.msExitFullscreen();
}


/* Is currently in full screen or not */
function IsFullScreenCurrently() {
	var full_screen_element = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || null;
  
  // If no element is in full-screen
  if(full_screen_element === null)
    return false;
  else
    return true;
}

let gobutton = document.querySelector("#go-button");
gobutton.addEventListener("click", function() {
  if(IsFullScreenCurrently())
      GoOutFullscreen();
  else
      GoInFullscreen(document.querySelector("#fullboard"));
});


canvasnames = [
"#wrq",
"#wnq",
 "#wbl",
 "#wq" ,
 "#wbd",
 "#wnk",
 "#wrk",
 "#brq",
 "#bnq",
 "#bbl",
 "#bq" ,
 "#bbd",
 "#bnk",
 "#brk",
  ];

document.addEventListener('fullscreenchange', function() {
  if(IsFullScreenCurrently()) {
      let some1 = document.querySelector("#go-button")
      some1.innerHTML = 'exit fullscreen';
      let pieces = document.querySelector("#chesspieces")
      pieces.style.display = 'block';
      for (let i of canvasnames) {
        let canvas = document.querySelector(`${i}`)
        canvas.style.display = 'block';
      }

    let rungameaction = document.querySelector("#chesspieces");
    rungameaction.addEventListener("click", function() {
      rungame()
    }, {once:true});

      runcanvas();

  }
  else {
      cancelAnimationFrame(loopid);
      let some1 = document.querySelector("#go-button")
      some1.innerHTML = 'show game';
      let pieces = document.querySelector("#chesspieces")
      pieces.style.display = 'none';

      for (let i of canvasnames) {
        let canvas = document.querySelector(`${i}`)
        canvas.style.display = 'none';
      }
  }
});
</script>
</html>
